---
# =============================================================================
# File: roles/upgrade/tasks/standalone.yml
# Standalone Device Upgrade via SSH
# =============================================================================

- name: Standalone | Display upgrade start
  ansible.builtin.debug:
    msg:
      - "Starting standalone upgrade"
      - "Device: {{ device_hostname }} ({{ target_firewall }})"
      - "From: {{ device_current_version }}"
      - "To: {{ target_panos_version }}"

- name: Standalone | Set install provider
  ansible.builtin.set_fact:
    install_provider: "{{ firewall_provider }}"

- name: Standalone | Execute installation
  ansible.builtin.include_tasks: install.yml

- name: Standalone | Set upgrade success
  ansible.builtin.set_fact:
    standalone_upgrade_completed: true
    upgraded_version: "{{ installed_version }}"
